<!DOCTYPE html>
<html lang="en-us"><head>
  <meta charset="utf-8">
  <title>Gandes Goldestan</title>

  <!-- mobile responsive meta -->
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="this is meta description">
  <meta name="author" content="Gandes Goldestan">
  <meta name="generator" content="Hugo 0.74.3" />

  <!-- plugins -->
  
  <link rel="stylesheet" href="https://gandesgold.com/plugins/bootstrap/bootstrap.min.css ">
  
  <link rel="stylesheet" href="https://gandesgold.com/plugins/slick/slick.css ">
  
  <link rel="stylesheet" href="https://gandesgold.com/plugins/themify-icons/themify-icons.css ">
  
  <link rel="stylesheet" href="https://gandesgold.com/plugins/venobox/venobox.css ">
  

  <!-- Main Stylesheet -->
  
  <link rel="stylesheet" href="https://gandesgold.com/scss/style.min.css" media="screen">

  <!--Favicon-->
  <link rel="shortcut icon" href="https://gandesgold.com/images/favicon.png " type="image/x-icon">
  <link rel="icon" href="https://gandesgold.com/images/favicon.png " type="image/x-icon">

  <!-- google analitycs -->
  <script>
    (function (i, s, o, g, r, a, m) {
      i['GoogleAnalyticsObject'] = r;
      i[r] = i[r] || function () {
        (i[r].q = i[r].q || []).push(arguments)
      }, i[r].l = 1 * new Date();
      a = s.createElement(o),
        m = s.getElementsByTagName(o)[0];
      a.async = 1;
      a.src = g;
      m.parentNode.insertBefore(a, m)
    })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');
    ga('create', 'UA-177321281-1', 'auto');
    ga('send', 'pageview');
  </script>

</head><body>
<!-- preloader start -->
<div class="preloader">
  
</div>
<!-- preloader end -->
<!-- navigation -->
<header class="navigation">
  <div class="container">
    
    <nav class="navbar navbar-expand-lg navbar-white bg-transparent border-bottom pl-0">
      <a class="navbar-brand mobile-view" href="https://gandesgold.com"><img class="img-fluid"
          src="https://gandesgold.com/images/logo1.png" alt="Gandes Goldestan"></a>
      <button class="navbar-toggler border-0" type="button" data-toggle="collapse" data-target="#navigation">
        <i class="ti-menu h3"></i>
      </button>

      <div class="collapse navbar-collapse text-center" id="navigation">
        <div class="desktop-view">
          <ul class="navbar-nav mr-auto">
            
            <li class="nav-item">
              <a class="nav-link" href="mailto:gandes.goldestan@gmail.com"><i class="ti-email"></i></a>
            </li>
            
            <li class="nav-item">
              <a class="nav-link" href="https://www.twitter.com/gandesgold"><i class="ti-twitter-alt"></i></a>
            </li>
            
            <li class="nav-item">
              <a class="nav-link" href="https://www.github.com/gandesgold"><i class="ti-github"></i></a>
            </li>
            
            <li class="nav-item">
              <a class="nav-link" href="https://www.linkedin.com/in/gandesgold"><i class="ti-linkedin"></i></a>
            </li>
            
          </ul>
        </div>

        <a class="navbar-brand mx-auto desktop-view" href="https://gandesgold.com"><img class="img-fluid"
            src="https://gandesgold.com/images/logo1.png" alt="Gandes Goldestan"></a>

        <ul class="navbar-nav">
          
          
          <li class="nav-item">
            <a class="nav-link" href="https://www.gandesgold.com">Home</a>
          </li>
          
          
          
          <li class="nav-item">
            <a class="nav-link" href="https://gandesgold.com/about">About</a>
          </li>
          
          
          
          <li class="nav-item">
            <a class="nav-link" href="https://gandesgold.com/blog">Blog</a>
          </li>
          
          
          
          <li class="nav-item">
            <a class="nav-link" href="https://public.tableau.com/profile/gandes.goldestan">Portfolio</a>
          </li>
          
          
        </ul>

        
        <!-- search -->
        <div class="search pl-lg-4">
          <button id="searchOpen" class="search-btn"><i class="ti-search"></i></button>
          <div class="search-wrapper">
            <form action="https://gandesgold.com/search" class="h-100">
              <input class="search-box px-4" id="search-query" name="s" type="search" placeholder="Type & Hit Enter...">
            </form>
            <button id="searchClose" class="search-close"><i class="ti-close text-dark"></i></button>
          </div>
        </div>
        

        
      </div>
    </nav>
  </div>
</header>
<!-- /navigation -->

<section class="section-sm">
  <div class="container">
    <div class="row">
      <div class="col-lg-8 mx-auto">
        
        <a href="/categories/tips/tutorial"
          class="text-primary">Tips/ tutorial</a>
        
        <h2>A Simple Web Scraping with Python</h2>
        <div class="mb-3 post-meta">
          
          
          <script src='https://kit.fontawesome.com/a076d05399.js' crossorigin='anonymous'></script>
                  <i class='fas fa-calendar-alt'></i>
          <span>12 September 2020</span>
          <span>  ●  Gandes Goldestan</span>
          
        </div>
        
        <img src="https://gandesgold.com/images/webscraping.jpeg" class="img-fluid w-100 mb-4" alt="A Simple Web Scraping with Python">
        
        <div class="content mb-5">
          <p><em>My learning documentation for a tutorial about web scraping/data extraction using some libraries in Python</em></p>
<p>●  ●  ●</p>
<p>Today for spending time on weekend, I decided to learn about <strong>Web Scraping</strong> in Python. Web scraping/web data extraction/web harvesting is a technique to extract the necessary content or data from a website. This method is really powerful especially in business and market research, such as product and price optimization, competitor monitoring, etc.</p>
<h2 id="is-web-scraping-legal">Is web scraping legal?</h2>
<p>Based on my research from some sources, it depends. If our intention is for educational purpose and as long as it is the public domain data, there is no strict implication so far. But it becomes illegal when you against the websites&rsquo;s Terms and Conditions, and downloading data at too rapid a rate because this may break the website. For more complete reasons, you can visit and read <a href="https://prowebscraper.com/blog/is-web-scraping-legal/">here.</a></p>
<p>The data I used for this simple web scraping learning is <strong>Countries of the World</strong>, which is collected from <a href="https://scrapethissite.com/">https://scrapethissite.com/</a>. I use Python 3.7 with PyCharm as the IDE software.  I intentionally decided to learn the simple one for now, because it is necessary to understand the alghorithm firstly. The data I want to extract from this dataset are : <strong>name of country, its capital, population, and area</strong>.</p>
<figure>
    <img src="/images/countriesexample.png"/> <figcaption>
            <h4>Countries of World</h4>
        </figcaption>
</figure>

<p>For web scraping, actually there are many popular Python libraries like Scrapy, Beautiful Soup, lxml, Selenium, etc. But for this learning I only used :</p>
<ul>
<li><strong><code>BeautifulSoup</code></strong> : A parsing library that can use different parsers. A parser is simply a program that can extract data from HTML and XML documents.</li>
<li><strong><code>requests</code></strong> : A vital and powerful HTTP library. It doesn&rsquo;t help us only to get the raw ingredients (i.e. HTML), but also can access  the API’s, post to forms, etc.</li>
<li><strong><code>pandas</code></strong> : A powerful package for data manipulation. We need it later to build the DataFrame of scraping result.</li>
</ul>
<p>As web scraping is extracting data from HTML/XML, we should have some knowledge about <strong>HTML/JS/CSS as pre-requisite</strong> so that we can do it much easier.</p>
<p>The first step, as usual we need to <strong>install and import the libraries</strong> of course. We can install the Python libraries/packages in some ways. Because I use Pycharm, I want to install the packages in PyCharm directly, and you can see the steps <a href="https://www.jetbrains.com/help/pycharm/installing-uninstalling-and-upgrading-packages.html">here.</a>  After installed, import them all by writing syntax:</p>
<pre><code>from bs4 import BeautifulSoup
import requests
import pandas as pd
</code></pre><p>Next, <strong>make a &lsquo;list&rsquo; to save the scraping result</strong> and <strong>pull down the content of the page</strong> by using the libraries</p>
<pre><code>data = [] # make a list

page = requests.get('https://scrapethissite.com/pages/simple/')
soup = BeautifulSoup(page.content, 'html.parser')
</code></pre><p>Well, now it&rsquo;s time to start to pull the content through HTML by using inspect element. Right-click the mouse and choose <strong>Inspect</strong> in Google Chrome, and it will show like this :</p>
<figure>
    <img src="/images/inspect.png"/> <figcaption>
            <h4>Inspect Element</h4>
        </figcaption>
</figure>

<p>Here, I want to get the all contents of each country. If we inspect the elements of each country, we can know that the <strong>HTML tag</strong> they use is same: <strong><code>&lt;div class=&quot;col-md-4 country&quot;&gt;...&lt;/div&gt;</code></strong></p>
<figure>
    <img src="/images/col.png"/> <figcaption>
            <h4>Inspect Element Countries</h4>
        </figcaption>
</figure>

<p>So, we can use that HTML tag for scraping the each <strong>country</strong> by writing syntax:</p>
<pre><code>country = soup.find_all('div', class_='col-md-4 country')
</code></pre><p>If we see the detail of <strong><code>&lt;div class=&quot;col-md-4 country&quot;&gt;...&lt;/div&gt;</code></strong>, we can find the other HTML tags to save the <strong>name of country, capital of country, population,</strong> and <strong>area</strong>.</p>
<p>This is the example of HTML code of one country :</p>
<figure>
    <img src="/images/tag.png"/> <figcaption>
            <h4>Data of Countries</h4>
        </figcaption>
</figure>

<p>Now we understand that :</p>
<ul>
<li>For each <strong>name of country</strong> is located in <strong><code>&lt;h3&gt;</code></strong> tag with the class named <strong><code>'country-name'</code></strong></li>
<li>For each <strong>name of capital</strong> is located in <strong><code>&lt;span&gt;</code></strong> tag with the class named <strong><code>'country-capital'</code></strong></li>
<li>For each <strong>population of country</strong> is located in <strong><code>&lt;span&gt;</code></strong> tag with the class named <strong><code>'country-population'</code></strong></li>
<li>For each <strong>area of country</strong> is located in <strong><code>&lt;span&gt;</code></strong> tag with the class named <strong><code>'country-area'</code></strong></li>
</ul>
<p>Next, let put the HTML tags above to syntax :</p>
<pre><code>for c in country:
        country = c.find('h3', class_='country-name').text
        capital = c.find('span', class_='country-capital').text
        population = c.find('span', class_='country-population').text
        area = c.find('span', class_='country-area').text
</code></pre><p>If you see the codes above, there are functions called <code>find</code>and <code>find_all</code>. Both of them are the example of BeautifulSoup functions, which are used to extract data from HTML. <code>find</code> is used to extract only one output, so if we want to extract more than one output then we can use <code>find_all</code> function.</p>
<p>For the next step, use <code>append</code> function to take the <strong>country, capital, population</strong>, and <strong>area</strong> into <strong>list</strong> that we have made before.</p>
<pre><code>        data.append({
            'Country': country,
            'Capital': capital,
            'Population': population,
            'Area': area
        })
</code></pre><p>Then, after the iteration finished, convert the list to be DataFrame using <strong>pandas</strong> library and save it to csv file. Run all syntax and wait for the process.</p>
<pre><code>df = pd.DataFrame(data)

df.to_csv('country.csv', index=False, encoding=&quot;utf-8&quot;)
</code></pre><p>Finally! Check the csv file result, and it will shows like this one :</p>
<figure>
    <img src="/images/csvresult.png"/> <figcaption>
            <h4>CSV result</h4>
        </figcaption>
</figure>

<p>For the complete code and csv file result, you can see or download them through my <a href="https://github.com/gandesgold/Python-webScraping">simple web scraping repository</a> on Github.</p>

        </div>

        
        
      </div>
    </div>
  </div>
</section>



<footer>
  <div class="container">
    <div class="row justify-content-center">
      <div class="col-12 text-center mb-5">
        <a href="https://gandesgold.com"><img src="https://gandesgold.com/images/logo1.png" alt="Gandes Goldestan"></a>
      </div>
      
  
      
      <div class="col-12 border-top py-4 text-center">
        Copyright © 2020-2021 <a href="https://gandesgold.com">Gandes Goldestan</a> | All rights reserved
      </div>
    </div>
  </div>
</footer>

<script>
  var indexURL = "https://gandesgold.com/index.json"
</script>

<!-- JS Plugins -->

<script src="https://gandesgold.com/plugins/jQuery/jquery.min.js"></script>

<script src="https://gandesgold.com/plugins/bootstrap/bootstrap.min.js"></script>

<script src="https://gandesgold.com/plugins/slick/slick.min.js"></script>

<script src="https://gandesgold.com/plugins/venobox/venobox.min.js"></script>

<script src="https://gandesgold.com/plugins/search/fuse.min.js"></script>

<script src="https://gandesgold.com/plugins/search/mark.js"></script>

<script src="https://gandesgold.com/plugins/search/search.js"></script>

<!-- Main Script -->

<script src="https://gandesgold.com/js/script.min.js"></script>



</body>
</html>